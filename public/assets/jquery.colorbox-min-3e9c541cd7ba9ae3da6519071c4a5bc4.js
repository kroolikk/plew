// ColorBox v1.3.19.3 - jQuery lightbox plugin
// (c) 2011 Jack Moore - jacklmoore.com
// License: http://www.opensource.org/licenses/mit-license.php
(function(e,t,n){function r(n,r,i){var s=t.createElement(n);return r&&(s.id=v+r),i&&(s.style.cssText=i),e(s)}function i(e){var t=P.length,n=(Y+e)%t;return n<0?t+n:n}function s(e,t){return Math.round((/%/.test(e)?(t==="x"?H.width():H.height())/100:1)*parseInt(e,10))}function o(e){return V.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(e)}function u(){var t,n=e.data(G,d);n==null?(V=e.extend({},p),console&&console.log&&console.log("Error: cboxElement missing settings object")):V=e.extend({},n);for(t in V)e.isFunction(V[t])&&t.slice(0,2)!=="on"&&(V[t]=V[t].call(G));V.rel=V.rel||G.rel||"nofollow",V.href=V.href||e(G).attr("href"),V.title=V.title||G.title,typeof V.href=="string"&&(V.href=e.trim(V.href))}function a(t,n){e.event.trigger(t),n&&n.call(G)}function f(){var e,t=v+"Slideshow_",n="click."+v,r,i,s;V.slideshow&&P[1]?(r=function(){R.text(V.slideshowStop).unbind(n).bind(b,function(){if(V.loop||P[Y+1])e=setTimeout(it.next,V.slideshowSpeed)}).bind(y,function(){clearTimeout(e)}).one(n+" "+w,i),k.removeClass(t+"off").addClass(t+"on"),e=setTimeout(it.next,V.slideshowSpeed)},i=function(){clearTimeout(e),R.text(V.slideshowStart).unbind([b,y,w,n].join(" ")).one(n,function(){it.next(),r()}),k.removeClass(t+"on").addClass(t+"off")},V.slideshowAuto?r():i()):k.removeClass(t+"off "+t+"on")}function l(t){nt||(G=t,u(),P=e(G),Y=0,V.rel!=="nofollow"&&(P=e("."+m).filter(function(){var t=e.data(this,d),n;return t&&(n=t.rel||this.rel),n===V.rel}),Y=P.index(G),Y===-1&&(P=P.add(G),Y=P.length-1)),et||(et=tt=!0,k.show(),V.returnFocus&&e(G).blur().one(E,function(){e(this).focus()}),C.css({opacity:+V.opacity,cursor:V.overlayClose?"pointer":"auto"}).show(),V.w=s(V.initialWidth,"x"),V.h=s(V.initialHeight,"y"),it.position(),T&&H.bind("resize."+N+" scroll."+N,function(){C.css({width:H.width(),height:H.height(),top:H.scrollTop(),left:H.scrollLeft()})}).trigger("resize."+N),a(g,V.onOpen),X.add(I).hide(),W.html(V.close).show()),it.load(!0))}function c(){!k&&t.body&&(ot=!1,H=e(n),k=r(st).attr({id:d,"class":x?v+(T?"IE6":"IE"):""}).hide(),C=r(st,"Overlay",T?"position:absolute":"").hide(),L=r(st,"Wrapper"),A=r(st,"Content").append(B=r(st,"LoadedContent","width:0; height:0; overflow:hidden"),F=r(st,"LoadingOverlay").add(r(st,"LoadingGraphic")),I=r(st,"Title"),q=r(st,"Current"),U=r(st,"Next"),z=r(st,"Previous"),R=r(st,"Slideshow").bind(g,f),W=r(st,"Close")),L.append(r(st).append(r(st,"TopLeft"),O=r(st,"TopCenter"),r(st,"TopRight")),r(st,!1,"clear:left").append(M=r(st,"MiddleLeft"),A,_=r(st,"MiddleRight")),r(st,!1,"clear:left").append(r(st,"BottomLeft"),D=r(st,"BottomCenter"),r(st,"BottomRight"))).find("div div").css({"float":"left"}),j=r(st,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),X=U.add(z).add(q).add(R),e(t.body).append(C,k.append(L,j)))}function h(){return k?(ot||(ot=!0,$=O.height()+D.height()+A.outerHeight(!0)-A.height(),J=M.width()+_.width()+A.outerWidth(!0)-A.width(),K=B.outerHeight(!0),Q=B.outerWidth(!0),k.css({"padding-bottom":$,"padding-right":J}),U.click(function(){it.next()}),z.click(function(){it.prev()}),W.click(function(){it.close()}),C.click(function(){V.overlayClose&&it.close()}),e(t).bind("keydown."+v,function(e){var t=e.keyCode;et&&V.escKey&&t===27&&(e.preventDefault(),it.close()),et&&V.arrowKey&&P[1]&&(t===37?(e.preventDefault(),z.click()):t===39&&(e.preventDefault(),U.click()))}),e("."+m,t).live("click",function(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),l(this))})),!0):!1}var p={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined},d="colorbox",v="cbox",m=v+"Element",g=v+"_open",y=v+"_load",b=v+"_complete",w=v+"_cleanup",E=v+"_closed",S=v+"_purge",x=!e.support.opacity&&!e.support.style,T=x&&!n.XMLHttpRequest,N=v+"_IE6",C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st="div",ot;if(e.colorbox)return;e(c),it=e.fn[d]=e[d]=function(t,n){var r=this;t=t||{},c();if(h()){if(!r[0]){if(r.selector)return r;r=e("<a/>"),t.open=!0}n&&(t.onComplete=n),r.each(function(){e.data(this,d,e.extend({},e.data(this,d)||p,t))}).addClass(m),(e.isFunction(t.open)&&t.open.call(r)||t.open)&&l(r[0])}return r},it.position=function(e,t){function n(e){O[0].style.width=D[0].style.width=A[0].style.width=e.style.width,A[0].style.height=M[0].style.height=_[0].style.height=e.style.height}var r=0,i=0,o=k.offset(),u,a;H.unbind("resize."+v),k.css({top:-9e4,left:-9e4}),u=H.scrollTop(),a=H.scrollLeft(),V.fixed&&!T?(o.top-=u,o.left-=a,k.css({position:"fixed"})):(r=u,i=a,k.css({position:"absolute"})),V.right!==!1?i+=Math.max(H.width()-V.w-Q-J-s(V.right,"x"),0):V.left!==!1?i+=s(V.left,"x"):i+=Math.round(Math.max(H.width()-V.w-Q-J,0)/2),V.bottom!==!1?r+=Math.max(H.height()-V.h-K-$-s(V.bottom,"y"),0):V.top!==!1?r+=s(V.top,"y"):r+=Math.round(Math.max(H.height()-V.h-K-$,0)/2),k.css({top:o.top,left:o.left}),e=k.width()===V.w+Q&&k.height()===V.h+K?0:e||0,L[0].style.width=L[0].style.height="9999px",k.dequeue().animate({width:V.w+Q,height:V.h+K,top:r,left:i},{duration:e,complete:function(){n(this),tt=!1,L[0].style.width=V.w+Q+J+"px",L[0].style.height=V.h+K+$+"px",V.reposition&&setTimeout(function(){H.bind("resize."+v,it.position)},1),t&&t()},step:function(){n(this)}})},it.resize=function(e){et&&(e=e||{},e.width&&(V.w=s(e.width,"x")-Q-J),e.innerWidth&&(V.w=s(e.innerWidth,"x")),B.css({width:V.w}),e.height&&(V.h=s(e.height,"y")-K-$),e.innerHeight&&(V.h=s(e.innerHeight,"y")),!e.innerHeight&&!e.height&&(B.css({height:"auto"}),V.h=B.height()),B.css({height:V.h}),it.position(V.transition==="none"?0:V.speed))},it.prep=function(t){function n(){return V.w=V.w||B.width(),V.w=V.mw&&V.mw<V.w?V.mw:V.w,V.w}function s(){return V.h=V.h||B.height(),V.h=V.mh&&V.mh<V.h?V.mh:V.h,V.h}if(!et)return;var u,f=V.transition==="none"?0:V.speed;B.remove(),B=r(st,"LoadedContent").append(t),B.hide().appendTo(j.show()).css({width:n(),overflow:V.scrolling?"auto":"hidden"}).css({height:s()}).prependTo(A),j.hide(),e(Z).css({"float":"none"}),T&&e("select").not(k.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(w,function(){this.style.visibility="inherit"}),u=function(){function t(){x&&k[0].style.removeAttribute("filter")}var n,s,u=P.length,l,c="frameBorder",h="allowTransparency",p,m,g,y;if(!et)return;p=function(){clearTimeout(rt),F.hide(),a(b,V.onComplete)},x&&Z&&B.fadeIn(100),I.html(V.title).add(B).show();if(u>1){typeof V.current=="string"&&q.html(V.current.replace("{current}",Y+1).replace("{total}",u)).show(),U[V.loop||Y<u-1?"show":"hide"]().html(V.next),z[V.loop||Y?"show":"hide"]().html(V.previous),V.slideshow&&R.show();if(V.preloading){n=[i(-1),i(1)];while(s=P[n.pop()])y=e.data(s,d),y&&y.href?(m=y.href,e.isFunction(m)&&(m=m.call(s))):m=s.href,o(m)&&(g=new Image,g.src=m)}}else X.hide();V.iframe?(l=r("iframe")[0],c in l&&(l[c]=0),h in l&&(l[h]="true"),l.name=v+ +(new Date),V.fastIframe?p():e(l).one("load",p),l.src=V.href,V.scrolling||(l.scrolling="no"),e(l).addClass(v+"Iframe").appendTo(B).one(S,function(){l.src="//about:blank"})):p(),V.transition==="fade"?k.fadeTo(f,1,t):t()},V.transition==="fade"?k.fadeTo(f,0,function(){it.position(0,u)}):it.position(f,u)},it.load=function(t){var n,i,f=it.prep;tt=!0,Z=!1,G=P[Y],t||u(),a(S),a(y,V.onLoad),V.h=V.height?s(V.height,"y")-K-$:V.innerHeight&&s(V.innerHeight,"y"),V.w=V.width?s(V.width,"x")-Q-J:V.innerWidth&&s(V.innerWidth,"x"),V.mw=V.w,V.mh=V.h,V.maxWidth&&(V.mw=s(V.maxWidth,"x")-Q-J,V.mw=V.w&&V.w<V.mw?V.w:V.mw),V.maxHeight&&(V.mh=s(V.maxHeight,"y")-K-$,V.mh=V.h&&V.h<V.mh?V.h:V.mh),n=V.href,rt=setTimeout(function(){F.show()},100),V.inline?(r(st).hide().insertBefore(e(n)[0]).one(S,function(){e(this).replaceWith(B.children())}),f(e(n))):V.iframe?f(" "):V.html?f(V.html):o(n)?(e(Z=new Image).addClass(v+"Photo").error(function(){V.title=!1,f(r(st,"Error").html(V.imgError))}).load(function(){var e;Z.onload=null,V.scalePhotos&&(i=function(){Z.height-=Z.height*e,Z.width-=Z.width*e},V.mw&&Z.width>V.mw&&(e=(Z.width-V.mw)/Z.width,i()),V.mh&&Z.height>V.mh&&(e=(Z.height-V.mh)/Z.height,i())),V.h&&(Z.style.marginTop=Math.max(V.h-Z.height,0)/2+"px"),P[1]&&(V.loop||P[Y+1])&&(Z.style.cursor="pointer",Z.onclick=function(){it.next()}),x&&(Z.style.msInterpolationMode="bicubic"),setTimeout(function(){f(Z)},1)}),setTimeout(function(){Z.src=n},1)):n&&j.load(n,V.data,function(t,n,i){f(n==="error"?r(st,"Error").html(V.xhrError):e(this).contents())})},it.next=function(){!tt&&P[1]&&(V.loop||P[Y+1])&&(Y=i(1),it.load())},it.prev=function(){!tt&&P[1]&&(V.loop||Y)&&(Y=i(-1),it.load())},it.close=function(){et&&!nt&&(nt=!0,et=!1,a(w,V.onCleanup),H.unbind("."+v+" ."+N),C.fadeTo(200,0),k.stop().fadeTo(300,0,function(){k.add(C).css({opacity:1,cursor:"auto"}).hide(),a(S),B.remove(),setTimeout(function(){nt=!1,a(E,V.onClosed)},1)}))},it.remove=function(){e([]).add(k).add(C).remove(),k=null,e("."+m).removeData(d).removeClass(m).die()},it.element=function(){return e(G)},it.settings=p})(jQuery,document,this);